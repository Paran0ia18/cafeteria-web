<!DOCTYPE html>
<html>
<head>
    <title>Pedidos Cafeter√≠a</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .form-group {
            margin-bottom: 15px;
        }
        input, textarea {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background: #28a745;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
        }
        button:hover {
            background: #218838;
        }
    </style>
</head>
<body>
    <h1>üìù Pedir a la cafeter√≠a</h1>
    <form id="pedidoForm">
        <div class="form-group">
            <input type="text" id="nombre" placeholder="Tu nombre" required>
        </div>
        <div class="form-group">
            <input type="text" id="curso" placeholder="Curso (ej: 3¬∞ESO)" required>
        </div>
        <div class="form-group">
            <input type="text" id="clase" placeholder="Clase (ej: Aula 12)" required>
        </div>
        <div class="form-group">
            <textarea id="pedido" placeholder="¬øQu√© quieres pedir? (ej: 1 bocadillo jam√≥n, 1 refresco)" rows="3" required></textarea>
        </div>
        <div class="form-group">
            <input type="number" id="precio" placeholder="Precio total en ‚Ç¨ (ej: 3.50)" step="0.01" required>
        </div>
        <button type="submit">Enviar pedido</button>
    </form>

    <script>
        // URL de tu Google Apps Script (la crear√°s en el Paso 3)
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxdfkOZ6PgcAmdZbdUcEHBNnZvWTf0qfpayrfaSlsNYiMHUcThvwd25yCk9iB6NL7BhPw/exec';

        document.getElementById('pedidoForm').addEventListener('submit', async (e) => {
  e.preventDefault();

  const data = {
    nombre: document.getElementById('nombre').value,
    curso: document.getElementById('curso').value,
    clase: document.getElementById('clase').value,
    pedido: document.getElementById('pedido').value,
    precio: document.getElementById('precio').value
  };

  try {
    const response = await fetch(SCRIPT_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data),
    });

    const result = await response.json();

    if (result.success) {
      alert('‚úÖ Pedido enviado. ¬°Revisa Google Sheets!');
      document.getElementById('pedidoForm').reset();
    } else {
      alert(`‚ùå Error: ${result.error || 'Desconocido'}`);
    }
    
  } catch (error) {
    alert(`üö® Error de conexi√≥n: ${error.message}`);
  }
});
    </script>
</body>
</html>
